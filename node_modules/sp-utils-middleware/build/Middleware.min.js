var Middleware,__slice=[].slice;Middleware=function(){function a(){}return a.version="0.0.4",a.prototype.wrap=function(){var a,b;return a=1<=arguments.length?__slice.call(arguments,0):[],b=this,function(){var c,d,e,f;return d=arguments,e=a.slice(0,a.length-1),c=a[a.length-1],(f=function(e){return function(g){var h,i;return g>=a.length-1?c.apply(e,d):(h=$.Deferred(),h.promise().done(function(){return f(g+1)}).fail(function(){var a;return null!=(a=b.rejectQuery)?a.apply(e,d):void 0}),i=a[g],"function"==typeof i?i.call(e,h,arguments):b[i].call(e,h,arguments))}}(this))(0)}},a}(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define([],function(){return Middleware}):window.Middleware=Middleware;